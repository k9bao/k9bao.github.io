---
layout: post
title: cmake常用方法
date: 2019-10-22 17:04:52
description: cmake常用方法
tag: cmake

---

- [cmake使用介绍](#cmake使用介绍)
  - [概念介绍](#概念介绍)
  - [函数说明](#函数说明)
  - [参考资料](#参考资料)

# cmake使用介绍

## 概念介绍

1. directory

  目录,cmake是按照目录来管理维护的
  有如下属性:
  COMPILE_OPTIONS :
  INCLUDE_DIRECTORIES :

1. target

- 目标,可能是一个obj,可能是一个库,可能是一个可执行文件
- 由add_executable(), add_library(), or add_custom_target()等命令创建
- 是编译的最小单元
- 有如下属性:
  - COMPILE_OPTIONS :编译选项
  - COMPILE_DEFINITIONS :-D or /D开头,宏定义及给宏定义赋值,比如定义POSITION_INDEPENDENT_CODE等
  - DEFINE_SYMBOL :宏定义,方便到处动态库或MODULE,可以被COMPILE_DEFINITIONS代替
  - INCLUDE_DIRECTORIES :-I or -isystem开头,包含路径 
  - INTERFACE_COMPILE_OPTIONS :
  - INTERFACE_COMPILE_DEFINITIONS
  - INTERFACE_INCLUDE_DIRECTORIES
  - INTERFACE_SYSTEM_INCLUDE_DIRECTORIES
   
## 函数说明
1. option(&lt;option_variable&gt; "help string describing option" [initial value])
  - 定义变量,如果给了initial value,则此参数有效.如果不给initial value,则参数无效.
  - 举例: OPTION(MOCK_MEGFACE "mock megface" TRUE)
2. set(&lt;variable&gt; &lt;value&gt; [[CACHE &lt;type&gt; &lt;docstring&gt; [FORCE]] | PARENT_SCOPE])
  - 设置一个变量,value可以有多个(多个的话,实际效果是用分号分割).CACHE(缓存)设置后对全局有效,否则只对本文件有效.
  - 举例set(EP_MIRROR_DIR  "http://10.201.102.223:8111/sources" CACHE STRING "mirrors path")
  - 通过$(EP_MIRROR_DIR)来获取变量内容
  - 参数type: 
    - FILEPATH = File chooser dialog.
    - PATH     = Directory chooser dialog.
    - STRING   = Arbitrary string.
    - BOOL     = Boolean ON/OFF checkbox.
    - INTERNAL = No GUI entry (used for persistent variables).
    - PARENT_SCOPE: value的范围
3. unset(&lt;variable&gt; [CACHE | PARENT_SCOPE])
   - 清除变量内容
   - CACHE:全局有效
   - PARENT_SCOPE: 改变变量范围
4. include(&lt;file|module&gt; [OPTIONAL] [RESULT_VARIABLE &lt;VAR&gt;] [NO_POLICY_SCOPE])
   - 导入cmake文件并且执行,如果设置了返回值,成功返回文件绝对路径,失败返回NOTFOUND
   - 包含文件或者模块,模块指后缀是.cmake的文件(modulename.cmake).
   - 优先搜索CMAKE_MODULE_PATH变量中的路径,然后再搜索CMake module directory
   - NO_POLICY_SCOPE字段可以参考cmake_policy()
   - 举例: include(3rd/cmake/helper.cmake)
   - include(3rd/cmake/helper.h)
5. target_sources(&lt;target&gt;
  &lt;INTERFACE|PUBLIC|PRIVATE&gt; [items1...]
  [&lt;INTERFACE|PUBLIC|PRIVATE&gt; [items2...] ...])
   - [相关概念参考](https://cmake.org/cmake/help/v3.12/command/target_sources.html#command:target_sources)
   - 给target指定源文件,target必须由add_executable() or add_library()创建,并且不可以是别名
   - INTERFACE, PUBLIC and PRIVATE指示后边跟着参数的范围
   - PRIVATE and PUBLIC定义的item属于target的SOURCES性质
   - PUBLIC and INTERFACE定义的item属于target的INTERFACE_SOURCES性质
   - Imported Targets仅支持INTERFACE标签  
4. add_library
   - [相关概念参考](https://cmake.org/cmake/help/v3.0/manual/cmake-buildsystem.7.html)
   - 有5种使用方法,具体[参考](https://cmake.org/cmake/help/v3.0/command/add_library.html?highlight=add_library#command:add_library)
     - add_library(&lt;name&gt; [STATIC | SHARED | MODULE] [EXCLUDE_FROM_ALL] source1 [source2 ...])
       - 普通的库编译,可以编译动态库,静态库以及模块.
     - add_library(&lt;name&gt; &lt;SHARED|STATIC|MODULE|UNKNOWN&gt; IMPORTED [GLOBAL])
       - 导入已经编译好的库
     - add_library(&lt;name&gt; OBJECT &lt;src&gt;...) 
       - 定义个obj变量,此变量可以被add_library或add_executable通过$&lt;TARGET_OBJECTS:objlib&gt; 调用,其中objlib就是name,或者被target_link_libraries链接
     - add_library(&lt;name&gt; ALIAS &lt;target&gt;)
       - 定义一个别名
     - add_library(&lt;name&gt; INTERFACE [IMPORTED [GLOBAL]])
       - 创建一个接口库,和方法3有点类似.
5. add_executable
   - [相关概念参考](https://cmake.org/cmake/help/v3.0/manual/cmake-buildsystem.7.html)
   - 有3种使用方法,具体[参考](https://cmake.org/cmake/help/v3.12/command/add_executable.html#command:add_executable)
     - add_executable(&lt;name&gt; [WIN32] [MACOSX_BUNDLE] [EXCLUDE_FROM_ALL] [source1] [source2 ...])
       - 编译一个普通target,name必须全局唯一,name后边是否有后缀(比如.exe)取决于本地环境,写的时候无需加后缀.
       - 可以通过修改RUNTIME_OUTPUT_DIRECTORY改变生成目录,通过OUTPUT_NAME修改name
       - [WIN32]MFC使用, [MACOSX_BUNDLE]IOS系统使用, [EXCLUDE_FROM_ALL]默认
     - add_executable(&lt;name&gt; IMPORTED [GLOBAL])
       - 
     - add_executable(&lt;name&gt; ALIAS &lt;target&gt;)
       - 给target定义一个别名,别名的使用有限制,需要注意
13. target_compile_definitions(&lt;target&gt;
  &lt;INTERFACE|PUBLIC|PRIVATE&gt; [items1...]
  [&lt;INTERFACE|PUBLIC|PRIVATE&gt; [items2...] ...])
    - 增加编译选项
    - PRIVATE and PUBLIC属于target的COMPILE_DEFINITIONS
    - PUBLIC and INTERFACE属于target的INTERFACE_COMPILE_DEFINITIONS
    - IMPORTED targets only support INTERFACE items
    - 举例: -D及空格会被忽略,下边例子效果一样
      - target_compile_definitions(foo PUBLIC FOO)
      - target_compile_definitions(foo PUBLIC -DFOO)  # -D removed
      - target_compile_definitions(foo PUBLIC "" FOO) # "" ignored
      - target_compile_definitions(foo PUBLIC -D FOO) # -D becomes "", then ignored
7. target_include_directories(&lt;target&gt; [SYSTEM] [BEFORE]
  &lt;INTERFACE|PUBLIC|PRIVATE&gt; [items1...]
  [&lt;INTERFACE|PUBLIC|PRIVATE&gt; [items2...] ...])
    - 给target添加依赖路径,可以是相对路径,可以是据对路径.target必须由add_executable() or add_library()创建,并且不可以是别名
    - INTERFACE 供父目录使用,PUBLIC本文件和父目录都可使用,PRIVATE仅供本目录使用
    - BEFORE : 属性会提前准备好...???
    - PRIVATE and PUBLIC属于target的INCLUDE_DIRECTORIES
    - PUBLIC and INTERFACE属于target的INTERFACE_INCLUDE_DIRECTORIES 
    - SYSTEM and (PUBLIC or INTERFACE)属于target的INTERFACE_SYSTEM_INCLUDE_DIRECTORIES 
    - IMPORTED targets only support INTERFACE items
    - 举例:target_include_directories(mylib PUBLIC $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/mylib&gt; $&lt;INSTALL_INTERFACE:include/mylib&gt; :&lt;prefix&gt;/include/mylib)
1. target_compile_options(&lt;target&gt; [BEFORE]
  &lt;INTERFACE|PUBLIC|PRIVATE&gt; [items1...]
  [&lt;INTERFACE|PUBLIC|PRIVATE&gt; [items2...] ...])
    - 添加编译选项和target_compile_definitions类似
    - BEFORE : 属性会提前准备好...???
    - PRIVATE and PUBLIC属于target的COMPILE_OPTIONS 
    - PUBLIC and INTERFACE属于target的INTERFACE_COMPILE_OPTIONS
6. target_link_libraries(&lt;target&gt; ... &lt;item&gt;... ...)
   - [相关概念参考](https://cmake.org/cmake/help/v3.0/manual/cmake-buildsystem.7.html)
   - 执行链接操作,可以链接生成库,也可以链接生成可执行文件,通过add_library或add_executable之后,必须调用target_link_libraries来完成链接
   - target必须由add_executable() or add_library()创建,并且不可以是别名,并且是当前目录创建的
   - item可能是下边中的一种:target库,全路径的库文件,不包含路径的库(会从系统目录搜索),link-flag,&lt;debug, optimized, general&gt;
   - 静态库支持循环嵌套
   - 有多种使用方法,具体[参考](https://cmake.org/cmake/help/v3.12/command/target_link_libraries.html#command:target_link_libraries)
     - target_link_libraries(&lt;target&gt; &lt;PRIVATE|PUBLIC|INTERFACE&gt; &lt;item&gt;... [&lt;PRIVATE|PUBLIC|INTERFACE&gt; &lt;item&gt;...]...)
       - PRIVATE:仅仅编译到target中,不对外提供接口
       - PUBLIC:编译到target中,同时对外提供接口
       - INTERFACE:不编译到target中,仅仅对外提供其接口
     - target_link_libraries(&lt;target&gt; &lt;item&gt;...)
       - 上边的特例,相当于PUBLIC
     - target_link_libraries(&lt;target&gt; &lt;LINK_PRIVATE|LINK_PUBLIC&gt; &lt;lib&gt;... [&lt;LINK_PRIVATE|LINK_PUBLIC&gt; &lt;lib&gt;...]...)
       - 仅为了兼容,可以不使用
     - target_link_libraries(&lt;target&gt; LINK_INTERFACE_LIBRARIES &lt;item&gt;...)
       - 仅为了兼容,可以不使用
6. include_directories([AFTER|BEFORE] [SYSTEM] dir1 [dir2 ...])
    - 添加依赖路径,可以是相对路径,可以是据对路径.
    - 路径被添加到文件变量INCLUDE_DIRECTORIES中,可以被本文件搜索
    - AFTER和BEFORE可以确定是插到变量的前边还是后边.
    - SYSTEM可以表示此目录和系统有关,具体参考编译器文档.
7. set_target_properties(target1 target2 ...
                      PROPERTIES prop1 value1
                      prop2 value2 ...)
    - 设置target属性,map结构
8.  注释使用#
9.  configure_file(&lt;input&gt; &lt;output&gt;
               [COPYONLY] [ESCAPE_QUOTES] [@ONLY]
               [NEWLINE_STYLE [UNIX|DOS|WIN32|LF|CRLF] ])
    - 将input文件拷贝到output文件中
    - 拷贝过程中使用当前cmakefile中的变量,替换input文件中@VAR@ 或 ${VAR}标识的参数.比如:
      - input有如下代码:test: "@FOO_STRING@"
      - 调用的时候set(FOO_STRING "foo")
      - 则实际拷贝后的内容为test "foo"
        ```
        if(FOO_ENABLE)
          set(FOO_STRING "foo")
        endif()
        configure_file(foo.h.in foo.h @ONLY)
        ```
10. project(&lt;PROJECT-NAME&gt; [LANGUAGES] [&lt;language-name&gt;...])
   project(&lt;PROJECT-NAME&gt;
        [VERSION &lt;major&gt;[.&lt;minor&gt;[.&lt;patch&gt;[.&lt;tweak&gt;]]]]
        [LANGUAGES &lt;language-name&gt;...])
  - 在最外层的CMakeLists.txt中包含,最好能设置版本号语言,默认设置为C和CXX(C++)语言
9. if, [参考网址](https://cmake.org/cmake/help/v3.1/command/if.html?highlight=#command:if)
```
  if(expression)
    :then section.
  elseif(expression2)
    :elseif section.
  else(expression)
    :else section.
  endif(expression)
```
  - elseif和else可选
  - else和endif中的expression也可选.
  - expression情况如下:
    - if(&lt;variable|string&gt;)对字符串或者变量variable可以直接进行判断,变量无需使用$()
    - if(&lt;constant&gt;)True:1, ON, YES, TRUE, Y, 或非0. False: 0, OFF, NO, FALSE, N, IGNORE, NOTFOUND,空字符串,以-NOTFOUND结尾的字符串. 
    - if(NOT &lt;expression&gt;)
    - if(&lt;expr1&gt; AND &lt;expr2&gt;)
    - if(&lt;expr1&gt; OR &lt;expr2&gt;) expre1和expr2都会被执行
    - if(COMMAND command-name) 如果command-name是可别调用的函数,命令,宏,则为TRUE,否则为FALSE
    - if(POLICY policy-id) 如果对应的policy-id设置了,则为TRUE,POLICY是cmake为了控制版本引入的类似版本控制的标识,具体详见[POLICY](https://cmake.org/cmake/help/v3.0/command/cmake_policy.html?highlight=cmp%20nnnn)
    - if(TARGET target-name) TURE:target-name存在.其中target-name来源于add_executable(), add_library(), or add_custom_target() 命令
    - if(EXISTS path-to-file-or-directory) 文件或目录是否存在,仅支持全路径
    - if(file1 IS_NEWER_THAN file2) TURE:file1比file2新,或一样新,或都不存在.只支持全路径
    - if(IS_DIRECTORY path-to-directory) 是否是目录,只支持全路径
    - if(IS_SYMLINK file-name) 是否是符号链接,只支持全路径
    - if(IS_ABSOLUTE path) 是否是全路径
    - if(&lt;variable|string&gt; MATCHES regex) 变量或字符串是否正则匹配regex
    - if(&lt;variable|string&gt; LESS &lt;variable|string&gt;) 前边数字是否小于后边数字,同理还有大于(GREATER),等于(EQUAL),字符串必须是数字
    - if(&lt;variable|string&gt; STRLESS &lt;variable|string&gt; 同上,字典比较(不限于数字),同理还有大于(STRGREATER),等于(STREQUAL)
    - if(&lt;variable|string&gt; VERSION_LESS &lt;variable|string&gt;) 前边版本是否小于后边版本号,同理还有大于(VERSION_GREATER),等于(VERSION_EQUAL),version format is major[.minor[.patch[.tweak]]]
    - if(DEFINED &lt;variable&gt;) 变量是否定义,注意宏不是变量
    - if((expression) AND (expression OR (expression))) 支持复杂混合
10. add_compile_options(&lt;option&gt; ...)
    - 说明:添加编译选项,待细化
    - 举例:
    - add_compile_options(-Wno-deprecated-declarations)
    - add_compile_options(/utf-8 /wd4800 /wd4819 /wd4101 /std:c++14)
    - add_compile_options($&lt; $&lt;COMPILE_LANGUAGE:CXX&gt;:/utf-8&gt;)
    - dd_compile_options($&lt; $&lt;COMPILE_LANGUAGE:CXX&gt;:/wd4819&gt;)
11. add_subdirectory(source_dir [binary_dir] [EXCLUDE_FROM_ALL])
    - source_dir可以是相对路径,可以是绝对路径
    - binary_dir指定编译生成路径,如果不设置默认等于source_dir
    - EXCLUDE_FROM_ALL被指定的话,所有的子目录targe不会被包含到父目录(并且也不会被IDE包含).一般子目录有些内容不被父目录使用的话,可以指定.设置此参数后,子目录必须显示的build targe
12. list
    - 以分号;为分割的一个字符串,下标从0开始
    - Reading
      - list(LENGTH &lt;list&gt; &lt;out-var&gt;)长度
      - list(GET &lt;list&gt; &lt;element index&gt; [&lt;index&gt; ...] &lt;out-var&gt;)获取元素
      - list(JOIN &lt;list&gt; &lt;glue&gt; &lt;out-var&gt;)组合后返回
      - list(SUBLIST &lt;list&gt; &lt;begin&gt; &lt;length&gt; &lt;out-var&gt;)返回子列表
    - Search
      - list(FIND &lt;list&gt; &lt;value&gt; &lt;out-var&gt;)查找值,返回索引.找不到返回-1
    - Modification
      - list(APPEND &lt;list&gt; [&lt;element&gt;...])后边追加
      - list(FILTER &lt;list&gt; {INCLUDE | EXCLUDE} REGEX &lt;regex&gt;)
      - list(INSERT &lt;list&gt; &lt;index&gt; [&lt;element&gt;...])指定位置插入
      - list(REMOVE_ITEM &lt;list&gt; &lt;value&gt;...)根据内容删除
      - list(REMOVE_AT &lt;list&gt; &lt;index&gt;...)根据索引删除
      - list(REMOVE_DUPLICATES &lt;list&gt;)去重
      - list(TRANSFORM &lt;list&gt; &lt;ACTION&gt; [&lt;SELECTOR&gt;] [OUTPUT_VARIABLE &lt;output variable&gt;]) 执行指定操作,较复杂
    - Ordering
      - list(REVERSE &lt;list&gt;)逆序
      - list(SORT &lt;list&gt;)排序
2.  math(EXPR &lt;variable&gt; "&lt;expression&gt;" [OUTPUT_FORMAT &lt;format&gt;])
    - 计算表达式expression，将结果赋值给variable。expression必须使用双引号包起来
    - format: DECIMAL或HEXADECIMAL，默认是10进制
    - 举例: 
      - math(EXPR value "100 * 0xA" OUTPUT_FORMAT DECIMAL)      # value is set to "1000"
      - math(EXPR value "100 * 0xA" OUTPUT_FORMAT HEXADECIMAL)  # value is set to "0x3e8"
2.  ExternalProject
    - External Project Definition
      - ExternalProject_Add(&lt;name&gt; [&lt;option&gt;...])
        - 添加外部工程执行
        - name:外部工程名字
        - option: 参数很多，常用如下: 
          - INSTALL_DIR: 程序按照目录
          - URL: 下载代码地址，可以是http，可以是本地...
          - DOWNLOAD_NAME: 下载下来后的名称，一般很少有
          - DOWNLOAD_DIR: URL下载地址
          - DOWNLOAD_NO_PROGRESS: 不显示下载进度，默认为FALSE，显示进度
          - PATCH_COMMAND: 补丁命令???
          - CMAKE_ARGS: 传递给cmake的参数
          - BUILD_BYPRODUCTS: ???
    - Obtaining Project Properties
      - ExternalProject_Get_Property(&lt;name&gt; &lt;prop1&gt; [&lt;prop2&gt;...])
        - 获取外部工程属性
        - 举例: 
          - ExternalProject_Get_property(myExtProj SOURCE_DIR)
          - message("Source dir of myExtProj = ${SOURCE_DIR}")
    - Explicit Step Management 管理外部依赖及步骤顺序
      - ExternalProject_Add_Step(&lt;name&gt; &lt;step&gt; [&lt;option&gt;...])
      - ExternalProject_Add_StepTargets(&lt;name&gt; [NO_DEPENDS] &lt;step1&gt; [&lt;step2&gt;...])
      - ExternalProject_Add_StepDependencies(&lt;name&gt; &lt;step&gt; &lt;target1&gt; [&lt;target2&gt;...])
    - Examples
      - 
1. string
   - [字符串操作](https://cmake.org/cmake/help/latest/command/string.html?highlight=string#command:string)
   - 有6类使用方法
     - Search and Replace
       - string(FIND &lt;string&gt; &lt;substring&gt; &lt;output variable&gt; [REVERSE])查找返回所有,-1表示失败.可以反向查找
       - string(REPLACE &lt;match_string&gt; &lt;replace_string&gt; &lt;output variable&gt; &lt;input&gt; [&lt;input&gt;...]) 用replace_string替换所有input中出现的match_string,结果存放在variable中
     - Regular Expressions
       - string(REGEX MATCH &lt;regular_expression&gt;
       &lt;output variable&gt; &lt;input&gt; [&lt;input&gt;...])所有input匹配regular_expression内存查找处理啊,结果存放在variable中,匹配前input会连起来作为一个input,只匹配一个结果
       - string(REGEX MATCHALL &lt;regular_expression&gt;
       &lt;output variable&gt; &lt;input&gt; [&lt;input&gt;...])同上,匹配所有结果,存放在variable列表中
       - string(REGEX REPLACE &lt;regular_expression&gt;
       &lt;replace_expression&gt; &lt;output variable&gt;
       &lt;input&gt; [&lt;input&gt;...])同上,查询结果被replace_expression替换,然后赋值给variable,注意replace_expression可以是查询结果中的某一个,通过CMAKE_MATCH_&lt;n&gt; for &lt;n&gt; 0..9
     - Manipulation
       - string(APPEND &lt;string-var&gt; [&lt;input&gt;...])追加到后边
       - string(PREPEND &lt;string-var&gt; [&lt;input&gt;...])追加到前边
       - string(CONCAT &lt;out-var&gt; [&lt;input&gt;...])连接
       - string(JOIN &lt;glue&gt; &lt;out-var&gt; [&lt;input&gt;...])使用glue连接
       - string(TOLOWER &lt;string1&gt; &lt;out-var&gt;)变小写
       - string(TOUPPER &lt;string1&gt; &lt;out-var&gt;)变大写
       - string(LENGTH &lt;string&gt; &lt;out-var&gt;)取string的长度
       - string(SUBSTRING &lt;string&gt; &lt;begin&gt; &lt;length&gt; &lt;out-var&gt;)获取子串,length为-1表示到结尾
       - string(STRIP &lt;string&gt; &lt;out-var&gt;)去除string前后空格
       - string(GENEX_STRIP &lt;string&gt; &lt;out-var&gt;)去除所有格的generator expressions
       - string(REPEAT &lt;string&gt; &lt;count&gt; &lt;out-var&gt;)string字符串拼接count次输出
     - Comparison
       - string(COMPARE &lt;op&gt; &lt;string1&gt; &lt;string2&gt; &lt;out-var&gt;)比较字符串,返回true或false
         - op:LESS GREATER EQUAL NOTEQUAL LESS_EQUAL GREATER_EQUAL 
         - 小于 大于 等于 不等于 小于等于 大于等于
     - Hashing
       - string(&lt;HASH&gt; &lt;out-var&gt; &lt;input&gt;)对input字符串加密输出
         - HASH: MD5 SHA1 SHA224 ... SHA3_224 SHA3_256 ...
     - Generation
       - string(ASCII &lt;number&gt;... &lt;out-var&gt;)数字转字符串
       - string(CONFIGURE &lt;string1&gt; &lt;out-var&gt; [...])
       - string(MAKE_C_IDENTIFIER &lt;string&gt; &lt;out-var&gt;)加下划线
       - string(RANDOM [&lt;option&gt;...] &lt;out-var&gt;)生成随记字符串
       - string(TIMESTAMP &lt;out-var&gt; [&lt;format string&gt;] [UTC])格式化时间
       - string(UUID &lt;out-var&gt; ...)生成UUID
2.   各种宏定义
   - :工厂属性
   - PROJECT_NAME: 工程名称,通过函数project()设置
   - PROJECT_SOURCE_DIR, &lt;PROJECT-NAME&gt;_SOURCE_DIR
   - PROJECT_BINARY_DIR, &lt;PROJECT-NAME&gt;_BINARY_DIR
   - PROJECT_VERSION, &lt;PROJECT-NAME&gt;_VERSION ,If VERSION is not specified, the default version is the empty string. 
   - PROJECT_VERSION_MAJOR, &lt;PROJECT-NAME&gt;_VERSION_MAJOR
   - PROJECT_VERSION_MINOR, &lt;PROJECT-NAME&gt;_VERSION_MINOR
   - PROJECT_VERSION_PATCH, &lt;PROJECT-NAME&gt;_VERSION_PATCH
   - PROJECT_VERSION_TWEAK, &lt;PROJECT-NAME&gt;_VERSION_TWEAK
   - 
   - :CXX属性
   - CXX_STANDARD: C++要求版本号,支持98,11,14,会被初始化为CMAKE_CXX_STANDARD[参考](https://cmake.org/cmake/help/v3.1/prop_tgt/CXX_STANDARD.html)
   - 
   - :target属性
   - INCLUDE_DIRECTORIES:include包含路径,详见include_directories()函数
   - COMPILE_DEFINITIONS:
   - COMPILE_OPTIONS:编译选项
   - DEFINE_SYMBOL: 宏定义,类似于#define,一般到处动态库的时候,用来作导入dllimport还是导出dllexport的判断
   - 
   - :程序属性
   - OUTPUT_NAME: 最终target的名称,
   - POSITION_INDEPENDENT_CODE: Whether to create a position-independent target,This property is initialized by the value of the CMAKE_POSITION_INDEPENDENT_CODE variable 
   - 
   - :CMAKE_公共属性
   - CMAKE_CURRENT_SOURCE_DIR:当前目录
   - CMAKE_CURRENT_BINARY_DIR:当前target目录
   - CMAKE_CURRENT_LIST_DIR:当前正在处理的listfile的完整目录.
   - CMAKE_VERBOSE_MAKEFILE: 是否记录catch数据,方便再次编译时不用从头开始.一般记录在CMakeCache.txt中
   - CMAKE_MODULE_PATH: 被 include() or find_package() 命令有限搜索的以;分割的list路径列表,默认是空,由用户通过set()设置
   - CMAKE_INCLUDE_CURRENT_DIR :默认为OFF,如果开启, CMAKE_CURRENT_SOURCE_DIR and CMAKE_CURRENT_BINARY_DIR 自动添加到对应directory的INCLUDE_DIRECTORIES中.不会自动传递给子目录.适合于源外构建
   - CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE: 默认为OFF,如果开启,shared library target, static library target, module target and executable target的CMAKE_CURRENT_SOURCE_DIR and CMAKE_CURRENT_BINARY_DIR自动添加到对应target的INTERFACE_INCLUDE_DIRECTORIES中.
   - CMAKE_&lt;LANG&gt;_COMPILER_ID, 可能的值如下This variable is not guaranteed to be defined for all compilers or languages.
     - Absoft = Absoft Fortran (absoft.com)
     - ADSP = Analog VisualDSP++ (analog.com)
     - AppleClang = Apple Clang (apple.com)
     - Clang = LLVM Clang (clang.llvm.org)
     - Cray = Cray Compiler (cray.com)
     - Embarcadero, Borland = Embarcadero (embarcadero.com)
     - G95 = G95 Fortran (g95.org)
     - GNU = GNU Compiler Collection (gcc.gnu.org)
     - HP = Hewlett-Packard Compiler (hp.com)
     - Intel = Intel Compiler (intel.com)
     - MIPSpro = SGI MIPSpro (sgi.com)
     - MSVC = Microsoft Visual Studio (microsoft.com)
     - PGI = The Portland Group (pgroup.com)
     - PathScale = PathScale (pathscale.com)
     - SDCC = Small Device C Compiler (sdcc.sourceforge.net)
     - SunPro = Oracle Solaris Studio (oracle.com)
     - TI = Texas Instruments (ti.com)
     - TinyCC = Tiny C Compiler (tinycc.org)
     - Watcom = Open Watcom (openwatcom.org)
     - XL, VisualAge, zOS = IBM XL (ibm.com)

## 参考资料

1. [learning-cmake](https://github.com/Akagi201/learning-cmake)
2. [cmake-cookbook](https://github.com/dev-cafe/cmake-cookbook)
