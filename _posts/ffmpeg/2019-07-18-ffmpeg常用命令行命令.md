---
layout: post
title: ffmpeg常用命令行命令
date: 2019-06-04 11:44:00
description: ffmpeg常用命令行命令
tag: ffmpeg

---
# ffmpeg使用说明

## 常用命令解析
### 常用命令
+ -i input_file:       指定输入文件,所有-i前边的参数，都讲作用于此文件
+ -x 320 -y 240:       指定播放窗口大小
+ -ss pos:             跳转到指定的位置(秒)
+ -bytes:              按字节跳转
+ -t duration:         播放 "duration" 秒音/视频
+  -window_title:      指定窗口名称
+ -autoexit:           播放完成自动接收
+ q, ESC:              退出
+ f:                   全屏
+ p, SPC:              暂停
+ w:                   切换显示模式(视频/音频波形/音频频带)
+ s:                   步进到下一帧
+ left/right:          快退/快进 10 秒
+ down/up:             快退/快进 1 分钟
+ page down/page up:   跳转到前一章/下一章(如果没有章节，快退/快进 10 分钟)
+ -y:                  表示如果输出文件已存在则覆盖。


### 能力集查询
+ -formats:     显示有效的格式，（也就是-f后面可以接的参数）
+ -codecs:      显示 libavcodec 已知的所有编解码器（也就是-vcodec后面可以接的参数）
+ -decoders:    显示有效的解码器
+ -encoders:    显示有效的编码器
+ -bsfs:        显示有效的比特流过滤器
+ -protocols:   显示有效的协议
+ -filters:     显示 libavfilter 有效的过滤器（也就是-vf后面可以接的参数）
+ -pix_fmts:    显示有效的像素格式
+ -sample_fmts: 显示有效的采样格式
+ -layouts:     显示通道名称以及标准通道布局,可用的声道布局
+ -colors:      显示认可的颜色名称
+ -hide_banner: 禁止打印欢迎语；也就是禁止默认会显示的版权信息、编译选项以及库版本信息等   

 
### 音频相关

### 编解码
+ -keyint_min:      编码最小I帧间隔
+ -g:               编码GOP间隔
+ sc_threshold:    编码GOP之间动态增加I帧个数

## 常用方法组合

### ffplay
+ 从指定时间开始播放:ffplay -ss 10 -i test.mp4

### ffmpeg
+ 截取一段视频:ffmpeg -ss 10 -t 30 -i test.mp4 -vcodec copy -acodec copy out.mp4 -y //从第10秒开始，截取30秒视频，注意-ss必须放在-i前边，如果-ss放在-i后边，等价于-t
+ 截取一段视频:ffmpeg -ss 00:00:10 -to 00:00:40 -i test.mp4 -vcodec copy -acodec copy out.mp4 -y //从第10秒开始，截取30秒视频
+ 指定编码I帧间隔(假设帧率为25):ffmpeg -i test.mkv -acodec libfdk_aac -vcodec libx264 -keyint_min 50 -g 50 -sc_threshold 0 out.mkv
+ 


